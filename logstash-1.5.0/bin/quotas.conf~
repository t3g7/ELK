input {  
      file {
          path => "~/Documents/Travail/redbite/ELK_visualisation/DMA-2015-03-10.csv"
          type => "qsm-dma-2015-03-10"
          start_position => "beginning"
	=9sincedb_path => "/dev/null"
      }
}

filter {  
    csv {
        columns => ["brevid","brevprodukt","opsam_center","spred_center","poststrøm","afsendt","modtaget","rettidig","rettidighed","befordringsdage","afsendelsesdag og -tid","seneste_tømningstid","bundtid","val_status","brevtype","format","adressering","frankering","vægt","indlform","afsenderkategori","afsenderpostnr","modtagerkategori","modtagertype","modtagerpostnr","afsendt_ugedag","modtaget_ugedag","postomraade","transponder_id","opsam_brevproduktion","spred_brevproduktion","stregkode_angivet","postmester_omraade","indsamlingsansvar","plan_afsendt","fri_stemplet","afsender_first_mile","anvendt_first_mile","modtager_last_mile","anvendt_last_mile","lørdagsmodtager","afsender_id","modtager_id","X/Y-omdelingsstykke"]
		separator=>";"
    }
	date {
		match => ["afsendt", "YYYY-MM-dd"]
	}
}

output {
    elasticsearch {
        host => "localhost"
        workers => 1
        index => "logstash-%{+YYYY.MM}"
    }
	stdout { codec=>json }
}
